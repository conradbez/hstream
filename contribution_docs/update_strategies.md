| Possible returns        | Conditions ("-" is an OR)                                                                                                                                                             | Outputs                                                                                                                                                                                                                                                               |
| ----------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1. Full html            | - hs_script not running<br>- prev_html == None                                                                                                                                      | - full html with full morph swap (default)<br>- hs_html_partial_keys_updated to none                                                                                                                                                                                |
| 2. Nothing              | - html==prev_html<br>- 2. partial replacement was picked but all nodes have been updated<br>                                                                                        | - reswap to "none"<br>- send back the reason for not swapping                                                                                                                                                                                                       |
| 3. Partial replacement  | - current id lengths are less than previous AND;<br>current ids are all contained in prev ids                                                                                       | - target node id<br>- reswap to inner html<br>- Append the partially updated node to internal session list (so we know not to send it again)<br><br>NOTE: DO NOT UPDATE PREVIOUS HTML IN THIS CASE BECAUSE THIS IS USEFUL WHERE A SCRIPT HASN'T FINISHED RENDERING |
| 4. Partial appending    | - current id length is longer than prev id length AND;<br>prev ids are all contained in current id AND;<br>where there are prev html values they are the same as current html values | - reswap to before end                                                                                                                                                                                                                                               |
